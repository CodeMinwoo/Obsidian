### 1. 트랜잭션 생성

- **사용자 A**는 **사용자 B**에게 이더를 보내기 위해 트랜잭션을 생성하고, 이를 서명합니다.

### 2. 트랜잭션 전파 및 검증

- 서명된 트랜잭션은 이더리움 네트워크에 브로드캐스트되고, 네트워크의 노드들은 트랜잭션의 유효성을 검증한 다음, 트랜잭션 풀(mempool)에 추가합니다.

### 3. 마이닝

- 마이너는 트랜잭션 풀에서 트랜잭션을 선택하여 새로운 블록을 생성하고, 블록을 마이닝합니다.
- 마이닝에 성공하면, 마이너는 블록을 네트워크에 전파합니다.

### 4. 블록 검증 및 추가

- 네트워크의 다른 노드들은 새로운 블록을 받아 검증합니다.
- 블록이 유효하면, 각 노드는 블록을 자신의 블록체인에 추가합니다.

### 5. 잔액 업데이트

#### a. 트랜잭션 실행

- 블록에 포함된 각 트랜잭션은 순차적으로 실행됩니다.
- 트랜잭션은 EVM(Ethereum Virtual Machine)에서 실행되며, 이는 스마트 컨트랙트의 코드를 처리할 수 있는 환경을 제공합니다.
- 일반적인 이더 전송의 경우, EVM은 보내는 주소의 잔액에서 이더를 차감하고, 받는 주소의 잔액을 증가시킵니다.
- 스마트 컨트랙트 트랜잭션의 경우, EVM은 컨트랙트의 코드를 실행하고, 그 결과에 따라 여러 계정의 상태를 업데이트할 수 있습니다.

#### b. 가스 비용 처리

- 트랜잭션을 실행하는 데 필요한 컴퓨팅 리소스는 가스로 계산됩니다.
- 트랜잭션 발신자는 가스 가격(단위 가스당 지불할 이더의 양)를 지정하고, 트랜잭션의 실행에 필요한 가스의 총량을 결제합니다.
- 가스 비용은 주로 트랜잭션의 복잡성과 데이터의 크기에 의존합니다.
- 가스 비용은 마이너에게 지급되며, 이는 네트워크를 보호하고 마이너를 보상하는 역할을 합니다.

#### c. 상태 변경

- 트랜잭션 실행 결과에 따라 블록체인의 상태가 업데이트됩니다.
- 이는 계정 잔액의 변화를 포함하며, 스마트 컨트랙트의 경우 컨트랙트의 저장된 변수 값 등도 변경할 수 있습니다.
- 이 변경은 모든 노드에 동기화되어 네트워크 전체에서 동일한 블록체인 상태를 유지합니다.

#### d. 로그 및 이벤트

- 스마트 컨트랙트 트랜잭션은 실행 과정에서 이벤트를 발생시킬 수 있습니다.
- 이 이벤트 로그는 블록에 저장되며, 외부의 애플리케이션에서 해당 이벤트를 감지하고 대응할 수 있게 합니다.

#### e. 트랜잭션 영수증 생성

- 트랜잭션의 처리가 끝나면, 이더리움 네트워크는 트랜잭션 영수증을 생성합니다.
- 트랜잭션 영수증은 트랜잭션의 실행 결과와 사용된 가스의 양, 발생한 이벤트 등의 정보를 포함합니다.

이러한 과정을 통해 이더리움 네트워크는 각 트랜잭션을 처리하고, 네트워크의 상태를 업데이트합니다. 모든 작업은 블록체인에 추가된 블록에 대해 수행되며, 이는 모든 이더리움 노드에서 동일하게 반영됩니다.


- **마이너는** 트랜잭션을 포함한 새로운 블록을 마이닝하고, 그 블록을 네트워크에 전파합니다.
    
- **모든 노드 (마이너 포함)** 는 네트워크로부터 새로운 블록을 받으면, 그 블록의 유효성을 확인한 후 로컬 블록체인에 추가합니다.
    
- 블록에 포함된 각 트랜잭션은 노드에 의해 순차적으로 실행되며, 이 과정에서 계정의 잔액 및 스마트 컨트랙트의 상태가 업데이트됩니다. 이 때, 각 노드는 독립적으로 트랜잭션을 실행하고 상태를 업데이트합니다.
